<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
 <meta name="generator" content=
 "HTML Tidy for HTML5 for Mac OS X version 5.1.25">
 <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
 <title></title>
 <link rel="stylesheet" type="text/css" href="default.css">
 <link rel="stylesheet" type="text/css" href="project.css">
 <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
 <link type="text/css" id="theme" rel="stylesheet" href=
 "/assets/themes/solarized-dark.css">
 <script type="text/javascript" src="/assets/cmirror/codemirror.js">
 </script>
 <script type="text/javascript" src="/assets/cmirror/python.js">
 </script>
 <script type="text/javascript" src="onload.js">
 </script>
 <script type="text/javascript" src="flows.js">
 </script>
 <script type="text/javascript" src="flow_cookie.js">
 </script>
 <script type="text/javascript" src="project.js">
 </script>
 <script type="text/javascript" src="stickydiv.js">
 </script>
 <script type="text/javascript" src="codeblocks.js">
 </script>
</head>
<body>
 <div class="hw" data-count="1" data-name="accelerometer"></div>
 <div class="hw" data-count="1" data-name="led_matrix"></div>
 <div class="hw" data-count="1" data-name="led_matrix_cable"></div>
 <div id="intro" class="section">

  <p>In this project, we will add in an LED Matrix and create a "balancing dot"
  &mdash; a single dot on the LED Matrix that moves around as we tilt the
  CREATOR Kit.  For this project, to keep things simple, we will only move the
  dot left and right on the LED Matrix.

 </div>
 <div id="hw" class="section">

  <p>You'll need to wire up both the Accelerometer and LED Matrix as done in
  previous projects.  Here is what your breadboard should look like once the
  accelerometer is properly wired:</p>
  <div style="text-align: center;"><img class="bb" src=
  "img/LED_Matrix_Accel_bb.jpg" alt=""></div>
 </div>
 <div id="sw" class="section">

  <p>For our first try, we're simply going to put a single dot on the screen and
  have it move left when the CREATOR Kit is tilted left, or move right when the
  CREATOR Kit is tilted right.
  <p>Most of the code should be very familiar, as it comes from the initial 
  <a data-uid="ledp"></a> project and <a data-uid="accelp"></a> project.  The code that's new is
  highlighted with arrows, below:

<div class="code" data-firstline="1">
   <textarea>
from rstem.accel import Accel
from rstem.led_matrix import FrameBuffer
import time

fb = FrameBuffer()
accel = Accel()

TILT_FORCE = 0.1
STEP = 0.1
x, y = (3, 3)
while True:
    x_force, y_force, z_force = accel.forces()
    
    if x_force &gt; TILT_FORCE:
        x -= STEP
    elif x_force &lt; -TILT_FORCE:
        x += STEP
*    x = max(min(fb.width, x), 0)

*    if y_force &gt; TILT_FORCE:
*        y -= STEP
*    elif y_force &lt; -TILT_FORCE:
*        y += STEP
*    y = max(min(fb.height, y), 0)
    
    fb.erase()
    fb.point(round(x), round(y))
    fb.show()
    
    time.sleep(.1)


</textarea>
  </div>

  <p>The new additions we've made are (highlighted with arrows above):</p>
  <ul>
   <li>

    <p>
    On Line 18, we stop the dot from rolling off the display.  To do this, we use
    <code>min()</code>
    and 
    <code>max()</code>
    functions to ensure that the value of x is never less than zero, or greater than the width of
    the display.  
    <code>min()</code> returns the smallest value of the parameters it is given, and 
    <code>max()</code> returns the largest value of the parameters it is given.
    CREATOR Kit to make the dot move.
   </p></li> <li> <p>
    On Lines 20 through 24, we repeat everything we did for the x-direction in the y-direction.
    This allows the dot to move up, down, left, or right on the display.
  </ul>
 </div>
 <div id="challenge" class="section">
  <ol>
   <li> <p>
   Can you flip the "controller" so that tiling up causes the the dot to move <i>up</i> instead of
   <i>down</i>.  Likewise, can you reverse the direction the dot moves when tilted down, right or
   left?
    </p> </li> <li> <p>
   When the dot reaches the edge of the display, instead of having it stay at the edge, can you
   make it appear at the opposite edge?
    </p> </li> <li> <p>
    If the user moves the dot so that it touches a specific coordinate, can
    you break out of the <code>while</code> loop?
    </p> </li> <li> <p>
    Secret code: If the user moves the dot so that it touches a sequence a specific coordinates, can
    you break out of the <code>while</code> loop?  For example, say the cooridinates are (0,0), (7,7) and
    (0,3).  The user must first move the dot to the lower left corner, then the upper right
    corner, then position (0,3) on the left side.  Once the dot passes through those 3 positions
    in order, exit the <code>while</code> loop.
  </ol>
 </div>
</body>
</html>
