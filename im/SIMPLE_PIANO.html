<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
 <meta name="generator" content=
 "HTML Tidy for HTML5 for Mac OS X version 5.1.25">
 <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
 <title></title>
 <link rel="stylesheet" type="text/css" href="default.css">
 <link rel="stylesheet" type="text/css" href="project.css">
 <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
 <link type="text/css" id="theme" rel="stylesheet" href=
 "/assets/themes/solarized-dark.css">
 <script type="text/javascript" src="/assets/cmirror/codemirror.js">
 </script>
 <script type="text/javascript" src="/assets/cmirror/python.js">
 </script>
 <script type="text/javascript" src="onload.js">
 </script>
 <script type="text/javascript" src="flows.js">
 </script>
 <script type="text/javascript" src="flow_cookie.js">
 </script>
 <script type="text/javascript" src="project.js">
 </script>
 <script type="text/javascript" src="stickydiv.js">
 </script>
 <script type="text/javascript" src="codeblocks.js">
 </script>
</head>
<body>
 <div class="hw" data-count="4" data-name="button"></div>
 <div class="hw" data-count="1" data-name="speaker"></div>
 <div class="hw" data-count="1" data-name="audio_cable"></div>
 <div class="section" id="intro">

  <p>In this project, we will create a simple piano using multiple buttons
  attached to multiple GPIO inputs and then writing code to assign each button
  a musical note.</p>

  <p>We'll keep it simple in this project and just play each note for one
  second when the corresponding button is pressed.</p>
 </div>
 <div class="section" id="hw">

  <p>Our hardware will consist of four buttons, each wired to a GPIO as input.
  In fact, we'll use the same circuit we wired in the <a data-uid=
  "manybuttons"></a> project. As a reminder, here is what your breadboard
  should look like: <img class="bb" src="img/Many_Buttons_bb.jpg" alt=""></p>
 </div>
 <div class="section" id="sw">

  <p>The code for this project is straightforward:</p>
  <ul>
   <li>

    <p>First, we import the functions we'll be using.</p>
   </li>
   <li>

    <p>Next, we initialize the buttons with their corresponding GPIOs and
    initialize the notes with our sound functions.</p>
   </li>
   <li>

    <p>Then, we create a <code>while</code> loop that will continually test each button for
    a press, and if a press is received, will play the corresponding note.</p>
   </li>
  </ul>

  <p>Here is what the code should look like:</p>
  <div class="code" data-firstline="1">
   <textarea>
from rstem.button import Button
from rstem.sound import Note
import time

buttons_and_notes = [
    [Button(14), Note('C')],
    [Button(15), Note('D')],
    [Button(25), Note('E')],
    [Button(7), Note('G')],
    ]

while True:
    for button, note in buttons_and_notes:
        if button.is_pressed():
            note.play()
    time.sleep(0.01)
</textarea>
  </div>

  <p>Try this, and you'll likely notice that there's a popping/crackling
  sound while you hold the button down. The reason is that when the button is
  pressed, the program will try to <i>replay</i> the note over and over again,
  each time through the <code>while</code> loop. When you <i>replay</i> a note
  (that is, play a note that is already playing), you'll hear a little pause as
  the note stops and restarts. That is the clicking you hear — we'll fix this
  in the next project.</p>
 </div>
 <div class="section" id="challenge">
  <ol>
   <li>

    <p>Can you modify the code to remove the popping/cracking sound? (Don't cheat
    — we'll get to an answer in the next project).</p>
   </li>
   <li>

    <p>Can you modify your software so that a 'C' note plays only if <i>all</i>
    of the buttons are pressed?</p>
   </li>
   <li>

    <p>Can you modify your software so that a 'C' note plays only if <i>any</i>
    of the buttons are pressed?</p>
   </li>
   <li>

    <p>We picked the notes (C, D, E and G) so that we could play the song that
    we created in <a data-uid="mary"></a>. Can you play the song? Give it a
    try!</p>
   </li>
  </ol>
 </div>
</body>
</html>
