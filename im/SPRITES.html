<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
 <meta name="generator" content=
 "HTML Tidy for HTML5 for Mac OS X version 5.1.25">
 <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
 <title></title>
 <link rel="stylesheet" type="text/css" href="default.css">
 <link rel="stylesheet" type="text/css" href="project.css">
 <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
 <link type="text/css" id="theme" rel="stylesheet" href=
 "/assets/themes/solarized-dark.css">
 <script type="text/javascript" src="/assets/cmirror/codemirror.js">
 </script>
 <script type="text/javascript" src="/assets/cmirror/python.js">
 </script>
 <script type="text/javascript" src="onload.js">
 </script>
 <script type="text/javascript" src="flows.js">
 </script>
 <script type="text/javascript" src="flow_cookie.js">
 </script>
 <script type="text/javascript" src="project.js">
 </script>
 <script type="text/javascript" src="stickydiv.js">
 </script>
 <script type="text/javascript" src="codeblocks.js">
 </script>
 <script type="text/javascript" src="matrix.js">
 </script>
</head>
<body>
 <div class="section">
  <h1>Sprites</h1>

  <p>Sprites are two-dimensional images that you can draw on a framebuffer. In
  computer graphics, the term "sprite" is often used in games where there are
  fixed images, like a spaceship or character that is moved around the screen
  while the games is played. The Ready Set STEM API provides a
  <code>Sprite()</code> function to create sprites that can be then be placed
  at different locations on the screen, as well as being flipped, cropped, and
  rotated.</p>

  <p>To create a sprite, you can use the the <code>Sprite()</code> function
  with a string representing the sprite:</p>
  <pre>
Sprite(<i>string_sprite</i>)
</pre>

  <p>where <code><i>string_sprite</i></code> is a multiple line string. Each
  character in the string represents the color of one point of the sprite. Each
  row of the sprite much have the same number of points.</p>
  <div class="info">
   <div>
    Multiline Strings
   </div>
   <div>

    <p>Sometimes, you'll want to create a string that has multiple lines. For
    example, to <code>print()</code> a your grocery list, you might do:</p>
    <pre>
print("Cheeze Whiz")
print("Snickers")
print("Mangoes")
</pre>

    <p>However, it is sometimes useful to be able to put several lines all
    together in one string. Python provides a way to do this with multiline
    strings. Multiline strings start and end with 3 quotes. For example, to
    print the above grocery list with only one print statement, you could
    use:</p>
    <pre>
print("""Cheeze Whiz
Snickers
Mangoes""")
</pre>

    <p>Just like single-line strings, multiline strings can be enclosed with
    double quotes or single-quotes, but you'll need 3 of them.</p>
   </div>
  </div>

  <p>The sprite colors can be 0 through 15, as discussed in <a data-uid=
  "fb"></a>. To represent the colors in the <code>string_sprite</code>, we need
  to use only one digit for each character. So, we use the digits 0 through 9
  followed by A through F. Plus, sprites add a new color: transparent. To use
  it, you can put a dash ('-') inn the sprite string. The full list of colors
  is:</p>
  <style>
    tbody.thistable td { 
        padding:2px !important; 
        } 
    tbody.thistable p { 
        text-align: center; 
        margin: 0 20px 0 20px !important; 
        border-radius: 3px; 
        padding: 0px; 
                color: black;
        }
  </style>
  <table class="basic slim">
   <tbody class="thistable">
    <tr>
     <th>

      <p>LED COLOR</p>
     </th>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,100%)">0</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,97%)">1</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,93%)">2</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,90%)">3</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,87%)">4</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,83%)">5</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,80%)">6</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,77%)">7</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,73%)">8</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,70%)">9</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,67%)">A</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,63%)">B</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,60%)">C</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,57%)">D</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,53%)">E</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:hsl(360,100%,50%)">F</p>
     </td>
    </tr>
    <tr>
     <td>
      <p style="background:transparent">-</p>
     </td>
    </tr>
   </tbody>
  </table>

  <p>For example, a up-arrow sprite could be created with:</p>
  <div class="code" data-firstline="1">
   <textarea>
from rstem.led_matrix import Sprite
up_arrow = Sprite("""
    00F00
    0FFF0
    F0F0F
    00F00
    00F00
    00F00
""")
</textarea>
  </div>

  <p>The <code>Sprite()</code> function doesn't care if you add extra spaces at
  the beginning or end of a line, or if you add extra blank lines. Once you
  have created a sprite, you can draw it on your framebuffer with the
  framebuffer's <code>draw()</code> function:</p>
  <div class="code" data-firstline="1">
   <textarea>
from rstem.led_matrix import Sprite
from rstem.led_matrix import FrameBuffer

fb = FrameBuffer()

up_arrow = Sprite("""
    00F00
    0FFF0
    F0F0F
    00F00
    00F00
    00F00
""")

fb.erase()
fb.draw(up_arrow)
fb.show()
</textarea>
  </div>

  <p>Similar to framebuffers, sprites can also tell you how high and wide they
  are, for example, to print the height and width of our arrow:</p>
  <div class="code" data-firstline="0">
   <textarea>
print(up_arrow.height)
print(up_arrow.width)
</textarea>
  </div>

  <p>Finally, sprites have several function that allow you to modify the
  sprite:</p>
  <ul>
   <li>

    <p>The <code>crop()</code> function will clip out a rectangular portion of
    the sprite. It takes two parameters: <code>origin</code>, which is the
    lower left corner of the rectangle, and the <code>dimensions</code> of the
    rectangle. Once cropped, the sprite will generally be smaller than the
    original.</p>
   </li>
   <li>

    <p>The <code>rotate()</code> function will rotate the sprite in multiples
    of 90 degrees. It takes one parameter, which is the <code>angle</code> to
    rotate.</p>
   </li>
   <li>

    <p>The <code>flip()</code> function will flip the sprite horizontally or
    vertically. It takes one parameter, <code>vertical</code>, which is should
    be <code>True</code> to flip vertically, or <code>False</code> to flip
    horizontally.</p>
   </li>
   <li>

    <p>The <code>reset()</code> function will undo any previous changes to the
    sprite, restoring it to its original state.</p>
   </li>
  </ul>

  <p>Like sound chains described in <a data-uid="tts"></a>, sprite functions
  can be chained. This means that you can do multiple operations (crop, flip,
  rotate), together in one brief statement.</p>
 </div>
 <div class="section">
  <h1>Examples</h1>

  <p>Here's a set of examples that all use the same sprite, a flag, as defined
  below:</p>
  <div class="code" data-firstline="1">
   <textarea>
from rstem.led_matrix import Sprite
from rstem.led_matrix import FrameBuffer

fb = FrameBuffer()

flag = Sprite("""
    ---FF
    --F4F
    -F44F
    FFFFF
    ----F
    ----F
    ----F
    ----F
""")

fb.erase()
fb.draw(flag)
fb.show()
</textarea>
  </div>

  <p>Before drawing the flag (just before the <code>fb.draw()</code> function
  above), there's a number of operation we could do to modify it. The following
  table shows what the flag would look like for various operations:</p>
  <table class="basic">
   <tbody>
    <tr>
     <th>

      <p>Functions</p>
     </th>
     <th>

      <p>LED Matrix</p>
     </th>
    </tr>
    <tr>
     <td>

      <p><code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
000FF000
00F4F000
0F44F000
FFFFF000
0000F000
0000F000
0000F000
0000F000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Shift right and up</code><br>
      <code>fb.draw(flag, (2,3))</code></p>
     </td>
     <td>
      <pre class="matrix">
00FFFFF0
000000F0
000000F0
000000F0
000000F0
00000000
00000000
00000000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Crop the trianglar part</code><br>
      <code>flag.crop((0,4), (4,4))</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
00000000
00000000
00000000
00000000
000F0000
00F40000
0F440000
FFFF0000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Draw the triangular part shifted right and up</code><br>
      <code>flag.crop((0,4), (4,4))</code><br>
      <code>fb.draw(flag, (3,2))</code></p>
     </td>
     <td>
      <pre class="matrix">
00000000
00000000
000000F0
00000F40
0000F440
000FFFF0
00000000
00000000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Rotate 90 degrees</code><br>
      <code>flag.rotate(90)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
00000000
00000000
00000000
FFFFFFFF
F44F0000
0F4F0000
00FF0000
000F0000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Rotate 180 degrees</code><br>
      <code>flag.rotate(180)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
F0000000
F0000000
F0000000
F0000000
FFFFF000
F44F0000
F4F00000
FF000000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Rotate 270 degrees</code><br>
      <code>flag.rotate(270)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
00000000
00000000
00000000
0000F000
0000FF00
0000F4F0
0000F44F
FFFFFFFF
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Flip horizontally</code><br>
      <code>flag.flip(vertical=False)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
FF000000
F4F00000
F44F0000
FFFFF000
F0000000
F0000000
F0000000
F0000000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Flip veritcally</code><br>
      <code>flag.flip(vertical=True)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
0000F000
0000F000
0000F000
0000F000
FFFFF000
0F44F000
00F4F000
000FF000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Crop the trianglar part, then rotate</code><br>
      <code>flag.crop((0,4), (4,4)).rotate(90)</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
00000000
00000000
00000000
00000000
F44F0000
0F4F0000
00FF0000
000F0000
</pre>
     </td>
    </tr>
    <tr>
     <td>

      <p><code># Crop, rotate, then reset</code><br>
      <code># Original image will be restored!</code><br>
      <code>flag.crop((0,4), (4,4)).rotate(90).reset()</code><br>
      <code>fb.draw(flag)</code></p>
     </td>
     <td>
      <pre class="matrix">
000FF000
00F4F000
0F44F000
FFFFF000
0000F000
0000F000
0000F000
0000F000
</pre>
     </td>
    </tr>
   </tbody>
  </table>
 </div>
</body>
</html>
